<html>
  <head></head>
  <body>
    <style>
      .note {
        margin-top: 20px;
        padding: 1rem;
        border: 1px solid #999;
        background: #e5e5e5;
        max-width: 40rem;
      }

    </style>
    <h1>Practice of CSS Animation</h1>

    <h2>hoverした時に幅が伸びるボックス</h2>
    <style>
      .box1 {
        width: 20px;
        height: 20px;
        border: 2px solid #000;
        text-align: center;
        transition: all 300ms 0s ease;
      }
      .box1:hover {
        width: 100px;
      }
    </style>
    <div class="box1">箱</div>
    <div class="note">
      box1クラスにtransitionを指定することでhover時の変化にアニメーションの効果を得られる。

      <pre>transition: all 300ms 0s ease</pre>

      は以下のプロパティをまとめたもの。
      
      <pre>
transition-property: all;
transition-timing-function: ease;
transition-duration: 300ms;
transition-delay: 0s;
      </pre>

      <dl>
        <dt>transition-property</dt><dd>アニメーションの対象となるプロパティ</dd>
        <dt>transition-timing-function</dt><dd>アニメーションのタイミング</dd>
        <dt>transition-duration</dt><dd>アニメーションに要する時間</dd>
        <dt>transition-delay</dt><dd>アニメーション開始までの時間（ディレイ）</dd>
      </dl>
    </div>

    <h2>hoverした時に180度回転するボックス</h2>
    <style>
      .box2 {
        width: 20px;
        height: 20px;
        border: 2px solid #000;
        text-align: center;
        transition: all 300ms 0s ease;
      }
      .box2:hover {
        transform: rotate(180deg);
      }
    </style>
    <div class="box2">箱</div>
    <div class="note">
      hover時のスタイルにtransformを適用して回転させたもの
    </div>

    <h2>クリックすると箱がスライドイン＆フェードインで増える（JavaScript使用）</h2>
    <style>
      .box3-container {
        display: flex;
      }
      .box3 {
        width: 20px;
        height: 20px;
        border: 2px solid #000;
        text-align: center;
      }
      .box3:hover {
        background-color: #fee;
      }
      .new-box {
        animation: SlideRollIn 1s;
      }
      @keyframes SlideRollIn {
        0% {
          opacity: 0;
          transform: translateX(300px);
        }
        25% {
          opacity: 1;
        }
        100% {
          opacity: 1;
          transform: translateX(0) rotate(-1800deg);
          animation-timing-function: linear;
        }
      }
    </style>
    <div id="box3-container" class="box3-container">
      <div id="box3" class="box3">箱</div>
    </div>
    <script>
      const box3 = document.getElementById("box3");
      const box3Container = document.getElementById("box3-container");
      box3.addEventListener("click", (e) => {
        const newBox = document.createElement("div");
        newBox.className = "box3 new-box";
        box3Container.appendChild(newBox);
      });

    </script>
    <div class="note">
      <p>クリック時に要素を追加して、キーフレームを使ってスライドイン＆フェードインのアニメーション。</p>
      <p>degは360で1回転。3600degなら10回転。-360degで逆（反時計回り）に1回転</p>
    </div>

    <h2>箱が転がりながらスライドイン＆フェードイン</h2>
    <style>
      .box4 {
        width: 20px;
        height: 20px;
        border: 2px solid #000;
        text-align: center;

        animation: SlideIn 1s;
      }
      @keyframes SlideIn {
        0% {
          opacity: 0;
          transform: translateX(300px);
        }
        100% {
          opacity: 1;
          transform: translateX(0) rotate(360deg);
        }
      }
    </style>
    <div class="box4">箱</div>

    <h2>箱がスライドアウト＆フェードアウト</h2>
    <style>
      .box5 {
        width: 20px;
        height: 20px;
        border: 2px solid #000;
        text-align: center;
        animation: SlideOut 1s forwards;
      }
      .box5-hide {
      }
      .box5:hover {
        background-color: #fee;
      }
      @keyframes SlideOut {
        0% {
          opacity: 1;
          transform: translateY(0);
        }
        100% {
          opacity: 0;
          transform: translateY(-10px);
        }
      }
    </style>
    <div id="box5" class="box5">箱</div>
    <script>
      const box5 = document.getElementById("box5");
      box5.addEventListener("click", (e) => {
        box5.className = "box5 box5-hide";
      });

    </script>
    <div class="note">
      animationのforwardsでアニメーション終了時の状態を保持する。この指定がなければアニメーション終了後に元の状態に戻る。
    </div>

    <h2>箱がバウンド</h2>
    <style>
      .box6 {
        width: 20px;
        height: 20px;
        border: 2px solid #000;
        text-align: center;
        animation: Bound 1s infinite;
      }
      @keyframes Bound {
        0% {
          transform: translateX(0);
        }
        50% {
          transform: translateX(100px);
          animation-timing-function: ease-out;
        }
        75% {
          transform: translateX(95px);
          animation-timing-function: ease-in;
        }
        100% {
          transform: translateX(0);
        }
      }
    </style>
    <div id="box6" class="box6">箱</div>
    <div class="note">
      keyframesで動きを調整。
    </div>

    <h2>連続したアニメーション</h2>
    <style>
      .box7 {
        width: 20px;
        height: 20px;
        border: 2px solid #000;
        text-align: center;
        animation: 
          changeH 1s ease 0s alternate forwards,
          changeW 1s ease 0s alternate forwards,
          changeH 1s ease 2s reverse forwards,
          changeW 1s ease 3s reverse forwards;
      }
      @Keyframes changeH {
        from { height: 20px; }
        to   { height: 40px;}
      }
      @Keyframes changeW {
        from { width: 20px;}
        to   { width: 40px;}
      }
    </style>
    <div id="box7" class="box7-pend">箱</div>
    <div class="note">
      animationに複数の関数を指定できる。ディレイを調整すれば自然なアニメーションとなる。
    </div>

    <h2>パッと散る</h2>
    <style>
      .circle-container {
        padding: auto;
        border: 2px solid #999;
        height: 40px;
        width: 40px;
      }
      .circle {
        border: 2px dotted #999;
        border-radius: 50%;
        text-align: center;
        animation: burst 1s ease alternate forwards;
      }
      @Keyframes burst {
        from { 
          opacity: 1;
          width: 20px; height: 20px;
          margin: 8px;
        }
        to   { 
          opacity: 0;
          width: 40px; height: 40px;
          margin: -2px;
        }
      }
    </style>
    <div class="circle-container">
      <div id="circle" class="circle"></div>
    </div>
    <div class="note">
      ぱっと散る
      
    </div>

    <h2>ブリンク</h2>
    <style>
      .box8 {
        width: 20px;
        height: 20px;
        border: 2px solid #000;
        text-align: center;
        animation: blink 0.5s linear alternate infinite forwards;
      }
      @Keyframes blink {
        from { opacity: 1; }
        50%  { opacity: 1; }
        51%  { opacity: 0; }
        to   { opacity: 0; }
      }
    </style>
    <div class="box8">箱</div>
    <div class="note">
      なつかしの
    </div>

    <h2>マーキーっぽいもの</h2>
    <style>
      .box9-container {
        width: 400px;
        height: 20px;
        overflow: hidden;
      }
      .box9 {
        text-align: center;
        animation: marquee 5s linear infinite;
      }
      @Keyframes marquee {
        /* テキストの長さに合わせてtranslateXを調整する必要あり */
        from { transform: translateX(300px); }
        to   { transform: translateX(-300px); }
      }
    </style>
    <div class="box9-container">
      <div class="box9">私のホームページへようこそ！</div>
    </div>
    <div class="note">
      なつかしの2。完全再現はけっこう難しいぽい。
    </div>

    <h2>activeを使ってJavaScriptなしのクリックアニメーション</h2>
    <style>
      .box10 {
        width: 200px;
        height: 20px;
        border: 2px solid #000;
        text-align: center;
        transition: all 1s 0s ease-in;
      }
      .box10:active {
        background-color: #fee;
        transition: none;
      }
    </style>
    <div class="box10">ボタン</div>
    <div class="note">
      activeのtransitionをnoneにするのがコツ。そうしないとマウスボタンを離したときにactiveじゃない状態にパッと戻ってしまう。
    </div>
  </body>
</html>